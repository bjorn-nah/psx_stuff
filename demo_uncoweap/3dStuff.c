#include <psxgte.h>
#include "3dStuff.h"

//MATRIX color_mtx;
//MATRIX color_mtx_2;
//
//MATRIX light_mtx;

int curent_color;
int nb_faces;

MATRIX color_mtx = {
	ONE * 3/4, 0, 0,	/* Red   */
	ONE * 3/4, 0, 0,	/* Green */
	//ONE * 3/4, 0, 0	/* Blue  */
	0, 0, 0
};

MATRIX color_mtx_2 = {
	//ONE * 3/4, 0, 0,	/* Red   */
	0, 0, 0,
	//ONE * 3/4, 0, 0,	/* Green */
	0, 0, 0,
	ONE * 3/4, 0, 0	/* Blue  */
};

/* Light matrix */
/* Each row represents a vector direction of each light source. */
/* An entire row of zeroes disables the light source. */
MATRIX light_mtx = {
	/* X,  Y,  Z */
	//-2048 , -2048 , -2048,
	0,-4096,4096,
	0	  , 0	  , 0,
	0	  , 0	  , 0
};

SVECTOR xwing_verts[] = {
{-10, 0, 30, 0},
{10, 10, 30, 0},
{-10, 10, 30, 0},
{10, 0, 30, 0},
{-10, 6, 22, 0},
{-10, 9, 2, 0},
{-10, 6, 2, 0},
{-10, 9, 22, 0},
{-10, 0, 0, 0},
{-10, 15, 0, 0},
{10, 0, 0, 0},
{10, 15, 0, 0},
{10, 6, 2, 0},
{10, 9, 2, 0},
{10, 9, 22, 0},
{10, 6, 22, 0},
{-49, -1, 8, 0},
{-49, -1, 22, 0},
{-49, 16, 22, 0},
{-49, 16, 8, 0},
{49, -1, 8, 0},
{49, -1, 22, 0},
{49, 16, 22, 0},
{49, 16, 8, 0},
{-7, 10, -12, 0},
{7, 10, -12, 0},
{5, 4, -70, 0},
{-5, 4, -70, 0},
};

/* Cube vertex indices */
INDEX xwing_indices[] = {
{1, 0, 2, 0},
{0, 1, 3, 0},
{5, 4, 6, 0},
{4, 5, 7, 0},
{6, 8, 9, 0},
{4, 8, 6, 0},
{2, 4, 7, 0},
{4, 2, 0, 0},
{4, 0, 8, 0},
{9, 5, 6, 0},
{9, 7, 5, 0},
{2, 7, 9, 0},
{10, 0, 3, 0},
{0, 10, 8, 0},
{12, 11, 10, 0},
{13, 11, 12, 0},
{14, 11, 13, 0},
{1, 14, 15, 0},
{14, 1, 11, 0},
{10, 15, 12, 0},
{3, 15, 10, 0},
{15, 3, 1, 0},
{12, 14, 13, 0},
{14, 12, 15, 0},
{1, 9, 11, 0},
{9, 1, 2, 0},
{4, 16, 17, 0},
{16, 4, 6, 0},
{4, 16, 6, 0},
{16, 4, 17, 0},
{7, 19, 18, 0},
{19, 7, 5, 0},
{7, 19, 5, 0},
{19, 7, 18, 0},
{20, 15, 21, 0},
{15, 20, 12, 0},
{20, 15, 12, 0},
{15, 20, 21, 0},
{23, 14, 22, 0},
{14, 23, 13, 0},
{23, 14, 13, 0},
{14, 23, 22, 0},
{11, 24, 25, 0},
{24, 11, 9, 0},
{10, 11, 25, 0},
{10, 25, 26, 0},
{8, 27, 24, 0},
{8, 24, 9, 0},
{27, 10, 26, 0},
{10, 27, 8, 0},
{25, 27, 26, 0},
{27, 25, 24, 0},
};

SVECTOR xwing_norms[] = {
{0, 0, -4096, 0},
{0, 0, -4096, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{4096, 0, 0, 0},
{0, 4096, 0, 0},
{0, 4096, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{-4096, 0, 0, 0},
{0, -4033, -711, 0},
{0, -4033, -711, 0},
{-711, 4033, 0, 0},
{-711, 4033, 0, 0},
{711, -4033, 0, 0},
{711, -4033, 0, 0},
{711, 4033, 0, 0},
{711, 4033, 0, 0},
{-711, -4033, 0, 0},
{-711, -4033, 0, 0},
{711, 4033, 0, 0},
{711, 4033, 0, 0},
{-711, -4033, 0, 0},
{-711, -4033, 0, 0},
{-711, 4033, 0, 0},
{-711, 4033, 0, 0},
{711, -4033, 0, 0},
{711, -4033, 0, 0},
{0, -3803, 1521, 0},
{0, -3803, 1521, 0},
{-3957, 0, 1055, 0},
{-3956, -1035, 227, 0},
{3956, -1035, 227, 0},
{3957, 0, 1055, 0},
{0, 4090, 219, 0},
{0, 4090, 219, 0},
{0, -4071, 442, 0},
{0, -4071, 442, 0},

};

int xwing_faces = sizeof(xwing_indices) / sizeof(xwing_indices[0]);

SVECTOR so6_verts[] = {
{12, 15, 0, 0},
{0, 20, 0, 0},
{14, 14, 0, 0},
{19, 1, 0, 0},
{20, 0, 0, 0},
{19, -1, 0, 0},
{0, -20, 0, 0},
{14, -14, 0, 0},
{12, -15, 0, 0},
{-7, -20, 52, 0},
{-15, -14, 107, 0},
{-27, -20, 100, 0},
{7, -14, 55, 0},
{-20, -14, 48, 0},
{-39, -14, 93, 0},
{-26, 0, 47, 0},
{-44, 0, 90, 0},
{-39, 14, 93, 0},
{-20, 14, 48, 0},
{-27, 20, 100, 0},
{-7, 20, 52, 0},
{-15, 14, 107, 0},
{7, 14, 55, 0},
{-9, 0, 110, 0},
{13, 0, 57, 0},
{-14, -14, 0, 0},
{-20, 0, 0, 0},
{-14, 14, 0, 0},
{-40, 14, 104, 0},
{-46, 0, 105, 0},
{-37, 0, 117, 0},
{-23, -14, 114, 0},
{-40, -14, 104, 0},
{-34, -14, 112, 0},
{-22, 0, 119, 0},
{-34, 14, 112, 0},
{-23, 14, 114, 0},
{-7, -20, -52, 0},
{-27, -20, -100, 0},
{-15, -14, -107, 0},
{7, -14, -55, 0},
{-20, -14, -48, 0},
{-39, -14, -93, 0},
{-26, 0, -47, 0},
{-44, 0, -90, 0},
{-39, 14, -93, 0},
{-20, 14, -48, 0},
{-27, 20, -100, 0},
{-7, 20, -52, 0},
{-15, 14, -107, 0},
{7, 14, -55, 0},
{-9, 0, -110, 0},
{13, 0, -57, 0},
{-40, 14, -104, 0},
{-37, 0, -117, 0},
{-46, 0, -105, 0},
{-23, -14, -114, 0},
{-34, -14, -112, 0},
{-40, -14, -104, 0},
{-22, 0, -119, 0},
{-23, 14, -114, 0},
{-34, 14, -112, 0},
};

/* Cube vertex indices */
INDEX so6_indices[] = {
{3, 2, 0, 0},
{2, 3, 4, 0},
{4, 3, 5, 0},
{5, 7, 4, 0},
{7, 5, 8, 0},
{10, 9, 11, 0},
{12, 9, 10, 0},
{11, 13, 14, 0},
{9, 13, 11, 0},
{14, 15, 16, 0},
{13, 15, 14, 0},
{18, 17, 16, 0},
{15, 18, 16, 0},
{20, 19, 17, 0},
{18, 20, 17, 0},
{22, 21, 19, 0},
{20, 22, 19, 0},
{24, 23, 21, 0},
{22, 24, 21, 0},
{23, 12, 10, 0},
{24, 12, 23, 0},
{6, 9, 12, 0},
{8, 12, 7, 0},
{12, 8, 6, 0},
{25, 13, 9, 0},
{9, 6, 25, 0},
{26, 15, 13, 0},
{25, 26, 13, 0},
{27, 18, 15, 0},
{26, 27, 15, 0},
{1, 20, 18, 0},
{27, 1, 18, 0},
{2, 22, 20, 0},
{0, 20, 1, 0},
{20, 0, 2, 0},
{4, 24, 22, 0},
{2, 4, 22, 0},
{24, 7, 12, 0},
{4, 7, 24, 0},
{29, 28, 30, 0},
{16, 17, 28, 0},
{31, 23, 10, 0},
{32, 30, 33, 0},
{29, 16, 28, 0},
{30, 34, 31, 0},
{35, 19, 36, 0},
{31, 34, 23, 0},
{29, 30, 32, 0},
{30, 35, 36, 0},
{28, 17, 19, 0},
{29, 32, 16, 0},
{16, 32, 14, 0},
{36, 23, 34, 0},
{30, 36, 34, 0},
{36, 21, 23, 0},
{32, 33, 11, 0},
{32, 11, 14, 0},
{28, 19, 35, 0},
{28, 35, 30, 0},
{19, 21, 36, 0},
{33, 31, 11, 0},
{30, 31, 33, 0},
{11, 31, 10, 0},
{2, 3, 0, 0},
{3, 2, 4, 0},
{5, 3, 4, 0},
{7, 5, 4, 0},
{5, 7, 8, 0},
{38, 37, 39, 0},
{39, 37, 40, 0},
{42, 41, 38, 0},
{38, 41, 37, 0},
{44, 43, 42, 0},
{42, 43, 41, 0},
{44, 45, 46, 0},
{44, 46, 43, 0},
{45, 47, 48, 0},
{45, 48, 46, 0},
{47, 49, 50, 0},
{47, 50, 48, 0},
{49, 51, 52, 0},
{49, 52, 50, 0},
{39, 40, 51, 0},
{51, 40, 52, 0},
{37, 6, 40, 0},
{40, 8, 7, 0},
{8, 40, 6, 0},
{41, 25, 37, 0},
{25, 6, 37, 0},
{43, 26, 41, 0},
{41, 26, 25, 0},
{46, 27, 43, 0},
{43, 27, 26, 0},
{48, 1, 46, 0},
{46, 1, 27, 0},
{48, 50, 2, 0},
{0, 48, 2, 0},
{48, 0, 1, 0},
{50, 52, 4, 0},
{50, 4, 2, 0},
{40, 7, 52, 0},
{52, 7, 4, 0},
{54, 53, 55, 0},
{53, 45, 44, 0},
{39, 51, 56, 0},
{57, 54, 58, 0},
{53, 44, 55, 0},
{56, 59, 54, 0},
{60, 47, 61, 0},
{51, 59, 56, 0},
{58, 54, 55, 0},
{60, 61, 54, 0},
{47, 45, 53, 0},
{44, 58, 55, 0},
{42, 58, 44, 0},
{59, 51, 60, 0},
{59, 60, 54, 0},
{51, 49, 60, 0},
{38, 57, 58, 0},
{42, 38, 58, 0},
{61, 47, 53, 0},
{54, 61, 53, 0},
{60, 49, 47, 0},
{38, 56, 57, 0},
{57, 56, 54, 0},
{39, 56, 38, 0},
};

SVECTOR so6_norms[] = {
{0, 0, 4096, 0},
{0, 0, 4096, 0},
{0, 0, 4096, 0},
{0, 0, 4096, 0},
{0, 0, 4096, 0},
{-1458, 3779, -604, 0},
{-1458, 3779, -604, 0},
{1458, 3779, 604, 0},
{1458, 3779, 604, 0},
{3500, 1556, 1449, 0},
{3500, 1556, 1449, 0},
{3500, -1556, 1449, 0},
{3500, -1556, 1449, 0},
{1458, -3779, 604, 0},
{1458, -3779, 604, 0},
{-1458, -3779, -604, 0},
{-1458, -3779, -604, 0},
{-3500, -1556, -1449, 0},
{-3500, -1556, -1449, 0},
{-3500, 1556, -1449, 0},
{-3500, 1556, -1449, 0},
{-1565, 3779, -206, 0},
{-1565, 3779, -206, 0},
{-1565, 3779, -206, 0},
{1565, 3779, 206, 0},
{1565, 3779, 206, 0},
{3756, 1556, 494, 0},
{3756, 1556, 494, 0},
{3756, -1556, 494, 0},
{3756, -1556, 494, 0},
{1565, -3779, 206, 0},
{1565, -3779, 206, 0},
{-1565, -3779, -206, 0},
{-1565, -3779, -206, 0},
{-1565, -3779, -206, 0},
{-3756, -1556, -494, 0},
{-3756, -1556, -494, 0},
{-3756, 1556, -494, 0},
{-3756, 1556, -494, 0},
{3035, -1463, -2328, 0},
{3792, -1463, 499, 0},
{-2328, 1463, -3035, 0},
{3035, 1463, -2328, 0},
{3792, -1463, 499, 0},
{499, 1463, -3792, 0},
{218, -3737, -1661, 0},
{-2328, 1463, -3035, 0},
{3035, 1463, -2328, 0},
{499, -1463, -3792, 0},
{1661, -3737, 218, 0},
{3792, 1463, 499, 0},
{3792, 1463, 499, 0},
{-2328, -1463, -3035, 0},
{499, -1463, -3792, 0},
{-2328, -1463, -3035, 0},
{1329, 3737, -1019, 0},
{1661, 3737, 218, 0},
{1329, -3737, -1019, 0},
{3035, -1463, -2328, 0},
{-1019, -3737, -1329, 0},
{218, 3737, -1661, 0},
{499, 1463, -3792, 0},
{-1019, 3737, -1329, 0},
{0, 0, -4096, 0},
{0, 0, -4096, 0},
{0, 0, -4096, 0},
{0, 0, -4096, 0},
{0, 0, -4096, 0},
{-1458, 3779, 604, 0},
{-1458, 3779, 604, 0},
{1458, 3779, -604, 0},
{1458, 3779, -604, 0},
{3500, 1556, -1449, 0},
{3500, 1556, -1449, 0},
{3500, -1556, -1449, 0},
{3500, -1556, -1449, 0},
{1458, -3779, -604, 0},
{1458, -3779, -604, 0},
{-1458, -3779, 604, 0},
{-1458, -3779, 604, 0},
{-3500, -1556, 1449, 0},
{-3500, -1556, 1449, 0},
{-3500, 1556, 1449, 0},
{-3500, 1556, 1449, 0},
{-1565, 3779, 206, 0},
{-1565, 3779, 206, 0},
{-1565, 3779, 206, 0},
{1565, 3779, -206, 0},
{1565, 3779, -206, 0},
{3756, 1556, -494, 0},
{3756, 1556, -494, 0},
{3756, -1556, -494, 0},
{3756, -1556, -494, 0},
{1565, -3779, -206, 0},
{1565, -3779, -206, 0},
{-1565, -3779, 206, 0},
{-1565, -3779, 206, 0},
{-1565, -3779, 206, 0},
{-3756, -1556, 494, 0},
{-3756, -1556, 494, 0},
{-3756, 1556, 494, 0},
{-3756, 1556, 494, 0},
{3035, -1463, 2328, 0},
{3792, -1463, -499, 0},
{-2328, 1463, 3035, 0},
{3035, 1463, 2328, 0},
{3792, -1463, -499, 0},
{499, 1463, 3792, 0},
{218, -3737, 1661, 0},
{-2328, 1463, 3035, 0},
{3035, 1463, 2328, 0},
{499, -1463, 3792, 0},
{1661, -3737, -218, 0},
{3792, 1463, -499, 0},
{3792, 1463, -499, 0},
{-2328, -1463, 3035, 0},
{499, -1463, 3792, 0},
{-2328, -1463, 3035, 0},
{1329, 3737, 1019, 0},
{1661, 3737, -218, 0},
{1329, -3737, 1019, 0},
{3035, -1463, 2328, 0},
{-1019, -3737, 1329, 0},
{218, 3737, 1661, 0},
{499, 1463, 3792, 0},
{-1019, 3737, 1329, 0},
};

int so6_faces = sizeof(so6_indices) / sizeof(so6_indices[0]);